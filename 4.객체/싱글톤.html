<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>객체활용1</title>
    <!-- 1. 객체(object) : 자바스크립트에서 하나로처리되는 대상의 모든 개념과 실체 
         2. 객체의 구성요소 : 속성(property), 메소드(method)로 구성
         3. 객체의 종류
            - 싱글톤 객체 : 값의 형태로 표현되는 여러값을 중괄호로 묶어서 표현. 특별하게 메소드가 필요없는 간단한 객체를 나타날 때 사용.
                            Object()라는 빈 객체를 생성하는 객체 생성자 함수를 통해서 객체를 생성하고, 속성과 값을 나중에 대입.
                            일회용으로 사용, 재활용 불가능. person2.name = ㅁㅁㅁ 또 쓰면 그전 값은 사라짐.
            // 일회용 문제 보완
            - 인스턴스객체 : 객체 생성자 함수를 사용하여 인스턴스 객체를 생성.
            - 현재 코드를 실행하는 객체를 나타내는 키워드, this는 생성되는 객체
            - 객체 생성자 함수를 통해서 객체를 만들 때 반드시 new 키워드를 사용하여 생성해야함.
    -->
    
</head>
<body>
    <script>
        // 학생정보를 담는 객체 생성
        // 싱글톤 객체 - 1번 방법 속성:값
        // {}객체 [] 배열
        var person1 = {
            name:'이세인',
            major:'Computer Science',
            age:28
        };

        document.write(person1.name + "<br>");
        document.write(person1.major + "<br>");
        document.write(person1.age + "<br><hr>");
        
        // 싱글톤 객체 - 2번 방법 Object 객체 생성 -> 속성 값 나중에 대입.
        var person2 = new Object();
        person2.name = '이세인';
        person2.major = '건축학과';
        person2.age = 30;

        document.write(person2.name + "<br>");
        document.write(person2.major + "<br>");
        document.write(person2.age + "<br><hr>");
        
        // 인스턴스 객체 (객체 생성자 함수)
        // 객체를 만드는 함수는 대문자로 쓰는것을 권장
        // name major age 라는 속성을 정의
        // 값 parameter 에서 받아서 대입
        function Student(name, major, age){
            this.name = name;
            this.major = major;
            this.age = age;            
        }

        var s1 = new Student('이세인','건축학과',30);
        var s2 = new Student('여승우','컴퓨터공학과',31);

        document.write(s1 + "<br>");
        document.write(s2 + "<br>");
        
        function Student(name, kor, eng, mat){
            this.name = name;
            this.kor = kor;
            this.eng = eng;
            this.mat = mat;

            // method
            this.sum = function() {
                return this.kor + this.eng + this.mat;
            }

            // property 속성 (변수)
            this.ave = this.sum () / 3;
            // method로 만들고싶으면
            /*
                this.ave = function(){
                    return this.sum() / 3;
                }
            */
            this.showInfo = function(){
                return `${this.name}, 총점: ${this.sum()}, 평균: ${this.ave.toFixed(2)}<br>`;
            }
        }

        var s1 = new Student('이익준', 92, 93, 93);
        document.write(`${s1.name}, ${s1.kor}점, ${s1.eng}점, ${s1.mat}점 총점: ${s1.sum()} 평균: ${s1.ave.toFixed(2)}<br>`);

        var s2 = new Student('삼익준', 92, 93, 93);
        var s3 = new Student('사익준', 92, 93, 93);
        var s4 = new Student('오익준', 92, 93, 93);

        var students = [s1, s2, s3, s4];        
        /*
            var students = [
                new Student('삼익준', 92, 93, 93);
                new Student('사익준', 92, 93, 93);
                new Student('오익준', 92, 93, 93);
            ]
        */
        
        for(var i in students){
            document.write(students[i].showInfo());
        }
        
        
    </script>
</body>
</html>
